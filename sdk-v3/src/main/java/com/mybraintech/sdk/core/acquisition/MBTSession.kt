package com.mybraintech.sdk.core.acquisition

import com.mybraintech.sdk.core.decodeFromHex
import org.json.JSONArray

object MBTSession {
    var forceScanAudioOnly = false
    val eegXonSampleData = "[\"921f3b1702000d0408ba0f08610807745f065413074b42078c8408bccaff000000921f3c170200d39e05c5920557f804e58104b8ef04cb1e055fe60589e7ff000000921f3d170200a2dc0246bc028d9402085802f07a0290a50211e90285fdff000000921f3e170200140a0028daffd01f005c1e00e9f8ffa01b00d5deff2e0a00000000921f3f170200f968fdcb2efdd9d3fd3b09fee6a3fd82bcfdc80dfd281800000000921f40170200b82bfb97ecfa1bddfb0941fc6fa8fbf9b5fb32abfab02e00000000b00eff5c0000f85c00004017d5f71304\",\"921f411702009573f95a34f92e59fab5e0facc23fa6826facfd9f8ee4500000000921f421702001151f8d115f80b57f9f2f5f96724f9181df95daaf7975000000000921f43170200d2c5f7b391f7a6d8f89f82f979abf8e59bf8bc1df7674d00000000921f4417020064c7f78c9cf751d5f8f27ef988aff8b599f8f127f74b4800000000921f451702006942f80722f87c3cf9f6dbf9381ff95505f9a0b3f7a04900000000921f46170200cf1df93208f97ef8f91286fa27e4f959c8f978a5f8854a00000000b00e175d0000165d00004617d5f71304\",\"921f47170200c43dfa7e32fa33f1fa6567fb91e5fac7c9fa62dff9953e00000000921f481702004886fb5684fb330efccc69fc8c0afc6df0fb3c43fb972500000000921f491702002dddfc25e3fc9f38fd8678fddb3bfdaf24fdfab4fcac0c00000000921f4a1702009a2bfed337fe6f5cfe6281fe3b65fee751fe3b1cfe7ffdff000000921f4b170200ff5effea6fff4a6affae77ffd377ff4367ff4965ff65f2ff000000921f4c1702008e8500d59c003b6f00dc6800b48300b7700049a100f1dfff000000b00e2f5d0000000000004c17d5f71304\",\"921f4d17020020f501aa1b02d1b101499101c3d3015eb90170310280c6ff000000921f4e170200b70104ba40041277030f2a0389ab039d8c0399700454b3ff000000921f4f1702007078064acc06ff9705411205e5da0500c105381e07c5afff000000921f50170200d5b3088f0d09748b075ad306a4d1074fc5071580096eb5ff000000921f51170200cf1d0a696e0af8cd0843f7079f0c09781109f8f60ae5b7ff000000921f52170200026f0a51ac0a991d09c54008494d09a76209fc3b0b38b6ff000000b00e475d0000435d00005217d5f71304\",\"921f5317020053a509c5c909f17508d4aa078f920811b50821510affbbff000000921f541702008fec078bf607abfb06f05506020407e62e07456808a3d0ff000000921f55170200188a05267b059bea04e17704c6df04f30d0582cd05ecebff000000921f5617020097cc0277a802468702944e020f6c02cf9802ead502ffffff000000921f57170200f0ffffb8cbff3714005016006fecffe71300d4d2fff50a00000000921f581702003965fd9326fdcacafd2c03feb69afd28bafd7e09fdcf1700000000b00e5f5d0000000000005817d5f71304\",\"921f59170200362efbc0eafa16d7fb463dfcfea2fbceb8fb6baefaa72d00000000921f5a170200a37bf97838f95856fa4cdffa2722facf2dfab6e3f85c4400000000921f5b170200a55df80a1ff83f57f9bcf6f94626f92828f9aeb9f7a64e00000000921f5c170200a8d5f7e29ef787dbf84e85f956b0f88aa9f8ee30f77e4b00000000921f5d17020025d9f768acf759daf81f83f9b6b6f8d1a8f8683df7d04600000000921f5e170200ca54f84533f81043f92be1f9f727f9d214f9cbc9f7974800000000b00e775d0000705d00005e17d5f71304\",\"921f5f170200a62ff99b19f90100fada8bfab9edf942d7f9f4baf89c4900000000921f601702001d4efa0743fa0df9fa516dfb42effa56d7fa08f3f9993d00000000921f611702006794fb2893fbdf15fc7c6ffcc513fc0bfcfb2e54fbbf2400000000921f6217020098e8fca6effcaf3ffdad7dfd2244fdfc2dfda7c2fc5c0c00000000921f631702001434fea641fe9062fec885fe386cfeb758fe5c26fedffdff000000921f641702008164ff4b77ff846fff5a7bff9b7dffcf6bffd86bff54f3ff000000b00e8f5d00008e5d00006417d5f71304\",\"921f65170200a788007aa300867400776c006589002e7400eca4005ce1ff000000921f66170200fbf601ff230292b801bb9501f2da0171bd017d330291c8ff000000921f671702004c0204b54a041a7f031a2f0306b4035d9103f7700434b6ff000000921f681702006e75065cd406df9e0528160516e2050cc405311a073cb3ff000000921f69170200d2aa08ae0f09738e0749d406a4d407edc307e47409f8b8ff000000921f6a1702005d0e0ab7680acccb0876f407100a09880a099ee40a23bbff000000b00ea75d0000000000006a17d5051404\",\"921f6b1702008c5a0a2a9f0a6c1609833a085c4509a4560993250b35b9ff000000921f6c170200398e09e5b609da6a0800a2076d86086ca508033b0ae6beff000000921f6d17020073d5075ce00734ee06b84b0650f506801d07ec550851d3ff000000921f6e17020064750531640568dc047b6d0447d004b1fc04e2c005f3edff000000921f6f1702002fbc02099302d779021245025d5d025a8902b7cf021b0100000000921f7017020011f5ffa3b9ffbe0800850e00d4dfff820700d3d2ff540b00000000b00ebf5d0000bb5d00007017d5051404\",\"921f711702006e60fd1419fd1ac2fda1fdfd1791fd9db1fdd20efdc81700000000921f721702006c2ffb79e2faa0d1fb3a3afcd69cfb71b4fbd5b7fa562d00000000921f731702004682f97f35f93454fabddefa921ffa8c2dfad4eff8954300000000921f74170200c068f80221f83858f973f8f90f27f9972bf91fc7f7454d00000000921f751702000ee4f716a5f731dff8eb88f90bb4f808b0f87a3ef7a24900000000921f7617020093e9f7ecb5f722e0f82c88f9bcbcf895b1f80c4af79a4400000000b00ed75d0000000000007617d5051404\",\"921f771702000366f8123ff8554af929e7f99f2ff9081ff9c7d4f7d74500000000921f781702008d40f9a826f91a08fa4a92fa51f6f91ae2f9c7c3f8dd4500000000921f79170200bf5dfa5d50fa5f01fbc073fb23f8fa13e2fa74f9f98c3800000000921f7a1702000ea2fbf19ffbe31dfc8a75fc5b1cfc0f06fc2958fb7b1e00000000921f7b170200c6f3fc36fbfcf646fd0c83fdf74bfdce36fd55c4fc2d0500000000921f7c170200873cfe814bfecb68fe438afef572fe0260fe0226feedf5ff000000b00eef5d0000e85d00007c17d5051404\",\"921f7d170200626affab7fffd974ff137fff6e83ffcb71ffd069ffa8eaff000000921f7e170200198d0050ac00367a00567000bc8f005c7a00ffa10049d8ff000000921f7f170200a4fb01cc2f0245c001dc9a01a1e301c6c501cb3002e8bfff000000921f80170200fe06040759049e88033d3503c5be03ae9b03f56d04ebaeff000000921f8117020044770600e1069aa705691b05f9eb0562cd05be1307edadff000000921f82170200b2a608091609749307abd6066bda07eac807026809c5b5ff000000b00e075e0000065e00008217d5081404\",\"921f831702003e030a87660a88cb0807f307090a096f090952d10a03baff000000921f8417020066490a8d940ad510095e3508743f09704f093b0f0b3bbaff000000921f8517020021790982a509d86008ea99079f7b0834990848260a24c2ff000000921f86170200efbe07a1ca0738e106cb41062ee706f60d0760460884d8ff000000921f87170200e75f05c84c050dce04e7620493c004b6eb0454b8057ef4ff000000921f88170200c8a902667c02a46b02ef3a02c54d02b478028ece02510800000000b00e1f5e0000000000008817d5081404\",\"921f8917020039e7ffcda5fffcfbffb70500bfd1ffacf8ff71d8ffc01200000000921f8a170200fc57fd7a09fdbab7fdc7f6fd9285fdaaa5fdee19fd061f00000000921f8b1702009a2cfbf0d7fa37cafbaf35fc8794fb09acfbd0c6fac43300000000921f8c170200c984f94930f9fc4ffa9adcfabd1afaed28faf400f9694800000000921f8d170200e66ff8e520f82157f998f8f9a425f9a52af9cad8f7075000000000921f8e170200dfeef778a9f7eae0f8128bf9b7b5f861b2f84b4ff7704a00000000b00e375e0000335e00008e17d5081404\",\"921f8f170200f3f6f7f4bdf733e4f8ef8bf9fcc0f8a5b6f8f058f7ed4300000000921f90170200ce74f8c149f82950f915ecf9d535f92026f9fee0f70b4400000000921f91170200b04ff9f632f9160ffae897fad2fdf980eaf9e6ccf81d4300000000921f921702004a6cfa4f5dfaeb08fb9f79fb4b00fb14ebfa5afff92c3500000000921f931702003caffba8acfb7325fc467bfc9324fc090ffcf55afb3b1b00000000921f9417020009fffcfa06fd184efd5488fdbe53fd393ffd56c4fceb0200000000b00e4f5e0000000000009417d5081404\",\"921f951702008345fec555fe236ffed88efee879fe7567feaa23fe26f5ff000000921f961702004571ff7a88ff687afffb82ff8a89ff4b78ffa665ff59ebff000000921f9717020063930028b500e37f00367400f49500018100009d004ddaff000000921f981702007a0302c83a0259c7018c9f013eeb0115ce015e2c0247c3ff000000921f99170200361004a16504c090036a3a033fc70344a503c76904a2b3ff000000921f9a170200717e0635eb0644ae054b1f0577f20556d505ba0c0796b3ff000000b00e675e0000605e00009a17d5fe1304\",\"921f9b170200fca708891909f295076ed70602dc071bcc070c5b0996bbff000000921f9c170200f3fc0988610aa8c808f3ef078b050972060937be0a3bbfff000000921f9d170200fc3b0aee870ae30809c72e08603509914609e9f80a76beff000000921f9e170200636609a29309095508c29007736d08d08b08f5100a38c5ff000000921f9f17020046a9073fb60731d3064d3706dbd606e8fd067035083bdaff000000921fa0170200d4490566380582bf0452580411b004f4da04b2ad059df4ff000000b00e7f5e00007e5e0000a017d5fe1304\",\"921fa1170200849502126a021f5e02583102cc3e02026902e7ca02f50600000000921fa21702007ed6ffff96ffb0f0fff4fdffa1c5ff6eebff79dbff7f1000000000921fa3170200ee4bfd15fffc74affd5df1fd257dfdd29bfdae22fd981c00000000921fa4170200c425fb46d2fa5dc5fbda32fc2a90fb13a6fbe9d3fa963100000000921fa51702002b83f9382ff9974efa52dcfa651afaea26fadc10f9934600000000921fa61702001273f8ed23f8ee58f9a0faf9ee28f94f2cf9f9e9f7a74e00000000b00e975e000000000000a617d5fe1304\",\"921fa717020015f6f7ddaff76de5f8058ff905bcf82fb7f86060f7e24900000000921fa81702003f01f8d5c6f7cdeaf85191f98bc9f8e6bdf8c668f78c4400000000921fa91702002781f83354f82d58f962f2f9d23ff90e2ff9b8eef7da4500000000921faa1702000d5df9193ef9d417fa9d9efa7108fa54f4f9f3d7f8df4500000000921fab170200ba79fa5968fac211fb4780fbd10afb15f5fa7007fac43800000000921fac170200f0bbfbf2b6fbd92dfc7d81fc642efc9818fc0a60fbc01f00000000b00eaf5e0000ab5e0000ac17d5fe1304\"]"

    fun convertStringToArrayOfString(jsonString: String): Array<String> {
        // Remove the outer square brackets and split by the delimiter
        val jsonArray = JSONArray(jsonString)
        val stringArray = Array(jsonArray.length()) { "" }
        for (i in 0 until jsonArray.length()) {
            stringArray[i] = jsonArray.getString(i)
        }
        return stringArray
    }

    fun getXonSampleFrameData():ByteArray {
        //convert eegXonSampleData to array
        val eegXonSampleData = convertStringToArrayOfString(this.eegXonSampleData)
        // get a random bytes from the array between 0 and eegXonSampleData.length
        val randomIndex = (0 until eegXonSampleData.size).random()
        return eegXonSampleData[randomIndex].decodeFromHex()

    }

}