<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_152-release) on Fri Jun 01 17:10:54 CEST 2018 -->
<title>MbtEEGManager</title>
<meta name="date" content="2018-06-01">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MbtEEGManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":9,"i17":9,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?core/eeg/MbtEEGManager.html" target="_top">Frames</a></li>
<li><a href="MbtEEGManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">core.eeg</div>
<h2 title="Class MbtEEGManager" class="title">Class MbtEEGManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>core.eeg.MbtEEGManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">MbtEEGManager</span>
extends java.lang.Object</pre>
<div class="block">MbtEEGManager contains all necessary methods to manage incoming EEG data from the MBT headset.
 It is responsible for managing the communication between the different classes of the eeg package.
 In chronological order, the incoming raw data are first transmitted to <a href="../../core/eeg/acquisition/MbtDataAcquisition.html" title="class in core.eeg.acquisition"><code>MbtDataAcquisition</code></a>,
 to be stored by <a href="../../core/eeg/storage/MbtDataBuffering.html" title="class in core.eeg.storage"><code>MbtDataBuffering</code></a> in temporary buffers.
 EEG data acquisition still continue until the buffers are full.
 Then, raw data are converted into user-readable EEG values by <a href="../../core/eeg/storage/MbtDataConversion.html" title="class in core.eeg.storage"><code>MbtDataConversion</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#MbtEEGManager-android.content.Context-core.MbtManager-">MbtEEGManager</a></span>(android.content.Context&nbsp;context,
             <a href="../../core/MbtManager.html" title="class in core">MbtManager</a>&nbsp;mbtManagerController)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>float[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#computeEEGSignalQuality-int-int-java.lang.Float:A-">computeEEGSignalQuality</a></span>(int&nbsp;sampRate,
                       int&nbsp;packetLength,
                       java.lang.Float[]&nbsp;channels)</code>
<div class="block">Computes the quality for each provided channels</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#computeRelaxIndex-int-core.eeg.signalprocessing.MBTCalibrationParameters-core.eeg.signalprocessing.MBTEEGPacket...-">computeRelaxIndex</a></span>(int&nbsp;sampRate,
                 <a href="../../core/eeg/signalprocessing/MBTCalibrationParameters.html" title="class in core.eeg.signalprocessing">MBTCalibrationParameters</a>&nbsp;calibParams,
                 <a href="../../core/eeg/signalprocessing/MBTEEGPacket.html" title="class in core.eeg.signalprocessing">MBTEEGPacket</a>...&nbsp;packets)</code>
<div class="block">Computes the relaxation index using the provided <code>MBTEEGPacket</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.lang.String,java.lang.Float&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#computeStatistics-int-int-int-core.eeg.signalprocessing.MBTEEGPacket...-">computeStatistics</a></span>(int&nbsp;bestChannel,
                 int&nbsp;sampRate,
                 int&nbsp;packetLength,
                 <a href="../../core/eeg/signalprocessing/MBTEEGPacket.html" title="class in core.eeg.signalprocessing">MBTEEGPacket</a>...&nbsp;packets)</code>
<div class="block">Computes the result of the previously done session</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.lang.String,java.lang.Float&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#computeStatisticsSNR-float-java.lang.Float:A-">computeStatisticsSNR</a></span>(float&nbsp;threshold,
                    java.lang.Float[]&nbsp;snrValues)</code>
<div class="block">Computes the result of the previously done session</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#deinit--">deinit</a></span>()</code>
<div class="block">Unregister the MbtEEGManager class from the bus to avoid memory leak</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#deinitQualityChecker--">deinitQualityChecker</a></span>()</code>
<div class="block">Destroy the main quality checker object in the JNI at the end of the session.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getBleNbBytes--">getBleNbBytes</a></span>()</code>
<div class="block">Gets the number of bytes for a EEG raw data in case the Bluetooth protocol used is Bluetooth Low Energy</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Float&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getEegResult--">getEegResult</a></span>()</code>
<div class="block">Gets the user-readable EEG data matrix</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getLostPacketInterpolator--">getLostPacketInterpolator</a></span>()</code>
<div class="block">Gets the lost EEG raw data packets buffer
 It contains only 0XFF values</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../core/MbtManager.html" title="class in core">MbtManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getMbtManager--">getMbtManager</a></span>()</code>
<div class="block">Gets the MbtManager instance.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getNbStatusBytes--">getNbStatusBytes</a></span>()</code>
<div class="block">Gets the number of bytes corresponding to one EEG data</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getPendingRawData--">getPendingRawData</a></span>()</code>
<div class="block">Get the pending EEG raw data buffer</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getRawDataBufferSize--">getRawDataBufferSize</a></span>()</code>
<div class="block">Gets the raw data buffer size</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getRawDataBytesPerWholeChannelsSamples--">getRawDataBytesPerWholeChannelsSamples</a></span>()</code>
<div class="block">Gets the number of bytes of a EEG raw data per whole channels samples</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getRawDataIndexSize--">getRawDataIndexSize</a></span>()</code>
<div class="block">Gets the raw data index size</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getRawDataPacketSize--">getRawDataPacketSize</a></span>()</code>
<div class="block">Gets the raw data packet size</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getSamplePerPacket--">getSamplePerPacket</a></span>()</code>
<div class="block">Gets the number of samples per packet</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#getSppNbBytes--">getSppNbBytes</a></span>()</code>
<div class="block">Gets the number of bytes for a EEG raw data in case the Bluetooth protocol used is Bluetooth Serial Port Profile</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#handleOverflowDataBuffer--">handleOverflowDataBuffer</a></span>()</code>
<div class="block">Replace the pending data by the overflowing data in the pending buffer after the pending data has been handled</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#hasOverflow--">hasOverflow</a></span>()</code>
<div class="block">Get the boolean value of hasOverflow
 Return true if the pending data buffer is full of EEG data
 The pending data buffer will be full if the incoming EEG data array size is bigger than the EEG raw data pending buffer size
 Return false if the pending data buffer size is lower than its total capacity</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#initQualityChecker--">initQualityChecker</a></span>()</code>
<div class="block">Initializes the main quality checker object in the JNI which will live throughout all session.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Float&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#launchConversionToEEG-byte:A-">launchConversionToEEG</a></span>(byte[]&nbsp;rawData)</code>
<div class="block">Converts the EEG raw data array into a user-readable EEG matrix
 0xFFFF values are computed a NaN values</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#notifyEEGDataIsReady-java.util.ArrayList-int-int-">notifyEEGDataIsReady</a></span>(java.util.ArrayList&lt;java.lang.Float&gt;&nbsp;status,
                    int&nbsp;sampleRate,
                    int&nbsp;nbChannels)</code>
<div class="block">Publishes a EEGDataIsReady event to the Event Bus to notify the User Interface</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#onEvent-eventbus.events.BluetoothEEGEvent-">onEvent</a></span>(<a href="../../eventbus/events/EEGDataAcquired.html" title="class in eventbus.events">EEGDataAcquired</a>&nbsp;event)</code>
<div class="block">Handles the raw EEG data acquired by the headset and transmitted to the application
 onEvent is called by the Event Bus when a EEGDataAcquired event is posted
 This event is published by <a href="../../core/bluetooth/MbtBluetoothManager.html" title="class in core.bluetooth"><code>MbtBluetoothManager</code></a>:
 this manager handles Bluetooth communication between the headset and the application and receive raw EEG data from the headset.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#reconfigureBuffers-int-byte-int-">reconfigureBuffers</a></span>(int&nbsp;sampleRate,
                  byte&nbsp;samplePerNotif,
                  int&nbsp;nbStatusBytes)</code>
<div class="block">Reset the buffers arrays, status list, the number of status bytes and the raw Data Packet Size</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#reinitRelaxIndexVariables--">reinitRelaxIndexVariables</a></span>()</code>
<div class="block">Resets the relaxation index.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#setNbStatusBytes-int-">setNbStatusBytes</a></span>(int&nbsp;nbStatusBytes)</code>
<div class="block">Sets a value to the number of bytes for status data</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#setOverflow-boolean-">setOverflow</a></span>(boolean&nbsp;hasOverflow)</code>
<div class="block">Set a boolean value to hasOverflow
 Set true if the pending data buffer is full of EEG data
 The pending data buffer will be full if the incoming EEG data array size is bigger than the EEG raw data pending buffer size
 Set false if the pending data buffer size is lower than its total capacity</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#setRawDataPacketSize-int-">setRawDataPacketSize</a></span>(int&nbsp;rawDataPacketSize)</code>
<div class="block">Sets a value to the raw data packet size</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#setSamplePerPacket-int-">setSamplePerPacket</a></span>(int&nbsp;samplePerPacket)</code>
<div class="block">Sets a value to the number of samples per EEG data packet</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#storeOverflowDataInBuffer-byte:A-int-int-int-">storeOverflowDataInBuffer</a></span>(byte[]&nbsp;data,
                         int&nbsp;srcPos,
                         int&nbsp;bufPos,
                         int&nbsp;pendingBufferLength)</code>
<div class="block">In case packet size is too large for buffer, the overflow EEG data is stored in an overflow buffer</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../core/eeg/MbtEEGManager.html#storePendingDataInBuffer-byte:A-int-int-int-">storePendingDataInBuffer</a></span>(byte[]&nbsp;data,
                        int&nbsp;srcPos,
                        int&nbsp;bufPos,
                        int&nbsp;pendingBufferLength)</code>
<div class="block">Stores the EEG raw data buffer when the maximum size of the buffer is reached
 In case packet size is too large for buffer, the overflow buffer is stored in a second buffer</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MbtEEGManager-android.content.Context-core.MbtManager-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MbtEEGManager</h4>
<pre>public&nbsp;MbtEEGManager(@NonNull
                     android.content.Context&nbsp;context,
                     <a href="../../core/MbtManager.html" title="class in core">MbtManager</a>&nbsp;mbtManagerController)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="launchConversionToEEG-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>launchConversionToEEG</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Float&gt;&gt;&nbsp;launchConversionToEEG(byte[]&nbsp;rawData)</pre>
<div class="block">Converts the EEG raw data array into a user-readable EEG matrix
 0xFFFF values are computed a NaN values</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rawData</code> - the raw EEG data array acquired by the headset and transmitted by Bluetooth to the application
 This method is called by <a href="../../core/eeg/acquisition/MbtDataAcquisition.html" title="class in core.eeg.acquisition"><code>MbtDataAcquisition</code></a>.prepareAndConvertToEEG method</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the converted EEG data matrix that contains readable values for any user</dd>
</dl>
</li>
</ul>
<a name="storePendingDataInBuffer-byte:A-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storePendingDataInBuffer</h4>
<pre>public&nbsp;void&nbsp;storePendingDataInBuffer(byte[]&nbsp;data,
                                     int&nbsp;srcPos,
                                     int&nbsp;bufPos,
                                     int&nbsp;pendingBufferLength)</pre>
<div class="block">Stores the EEG raw data buffer when the maximum size of the buffer is reached
 In case packet size is too large for buffer, the overflow buffer is stored in a second buffer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the raw EEG data array acquired by the headset and transmitted by Bluetooth to the application</dd>
<dd><code>bufPos</code> - is the beginning position of the data source array</dd>
<dd><code>srcPos</code> - is the beginning position of the buffer list where the data are copied</dd>
<dd><code>pendingBufferLength</code> - is the length to copy</dd>
</dl>
</li>
</ul>
<a name="storeOverflowDataInBuffer-byte:A-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeOverflowDataInBuffer</h4>
<pre>public&nbsp;void&nbsp;storeOverflowDataInBuffer(byte[]&nbsp;data,
                                      int&nbsp;srcPos,
                                      int&nbsp;bufPos,
                                      int&nbsp;pendingBufferLength)</pre>
<div class="block">In case packet size is too large for buffer, the overflow EEG data is stored in an overflow buffer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the raw EEG data array acquired by the headset and transmitted by Bluetooth to the application</dd>
<dd><code>bufPos</code> - is the beginning position of the data source array</dd>
<dd><code>srcPos</code> - is the beginning position of the buffer list where the data are copied</dd>
<dd><code>pendingBufferLength</code> - is the length of the pending buffer not to copy : this length is subtracted to get the length of the overflowing part of the data</dd>
</dl>
</li>
</ul>
<a name="handleOverflowDataBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleOverflowDataBuffer</h4>
<pre>public&nbsp;int&nbsp;handleOverflowDataBuffer()</pre>
<div class="block">Replace the pending data by the overflowing data in the pending buffer after the pending data has been handled</div>
</li>
</ul>
<a name="reconfigureBuffers-int-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reconfigureBuffers</h4>
<pre>public&nbsp;void&nbsp;reconfigureBuffers(int&nbsp;sampleRate,
                               byte&nbsp;samplePerNotif,
                               int&nbsp;nbStatusBytes)</pre>
<div class="block">Reset the buffers arrays, status list, the number of status bytes and the raw Data Packet Size</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sampleRate</code> - the sample rate</dd>
<dd><code>samplePerNotif</code> - the number of sample per notification</dd>
<dd><code>nbStatusBytes</code> - the number of bytes used for status data</dd>
</dl>
</li>
</ul>
<a name="onEvent-eventbus.events.EEGDataAcquired-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onEvent</h4>
<pre>@Subscribe
public&nbsp;void&nbsp;onEvent(<a href="../../eventbus/events/EEGDataAcquired.html" title="class in eventbus.events">EEGDataAcquired</a>&nbsp;event)</pre>
<div class="block">Handles the raw EEG data acquired by the headset and transmitted to the application
 onEvent is called by the Event Bus when a EEGDataAcquired event is posted
 This event is published by <a href="../../core/bluetooth/MbtBluetoothManager.html" title="class in core.bluetooth"><code>MbtBluetoothManager</code></a>:
 this manager handles Bluetooth communication between the headset and the application and receive raw EEG data from the headset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - contains data transmitted by the publisher : here it contains the raw EEG data array</dd>
</dl>
</li>
</ul>
<a name="notifyEEGDataIsReady-java.util.ArrayList-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyEEGDataIsReady</h4>
<pre>public&nbsp;void&nbsp;notifyEEGDataIsReady(java.util.ArrayList&lt;java.lang.Float&gt;&nbsp;status,
                                 int&nbsp;sampleRate,
                                 int&nbsp;nbChannels)</pre>
<div class="block">Publishes a EEGDataIsReady event to the Event Bus to notify the User Interface</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - the status list</dd>
<dd><code>sampleRate</code> - the sample rate</dd>
<dd><code>nbChannels</code> - the number of EEG acquisition channels</dd>
</dl>
</li>
</ul>
<a name="initQualityChecker--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initQualityChecker</h4>
<pre>public&nbsp;java.lang.String&nbsp;initQualityChecker()</pre>
<div class="block">Initializes the main quality checker object in the JNI which will live throughout all session.
 Should be destroyed at the end of the session</div>
</li>
</ul>
<a name="deinitQualityChecker--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deinitQualityChecker</h4>
<pre>public&nbsp;void&nbsp;deinitQualityChecker()</pre>
<div class="block">Destroy the main quality checker object in the JNI at the end of the session.</div>
</li>
</ul>
<a name="computeStatistics-int-int-int-core.eeg.signalprocessing.MBTEEGPacket...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeStatistics</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.Float&gt;&nbsp;computeStatistics(int&nbsp;bestChannel,
                                                                             int&nbsp;sampRate,
                                                                             int&nbsp;packetLength,
                                                                             <a href="../../core/eeg/signalprocessing/MBTEEGPacket.html" title="class in core.eeg.signalprocessing">MBTEEGPacket</a>...&nbsp;packets)</pre>
<div class="block">Computes the result of the previously done session</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bestChannel</code> - the best quality channel index</dd>
<dd><code>sampRate</code> - the number of value(s) inside each channel</dd>
<dd><code>packetLength</code> - how long is a packet (time x samprate)</dd>
<dd><code>packets</code> - the EEG packets containing EEG data, theirs status and qualities.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the previously done session</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if any of the provided arguments are <code>null</code> or invalid</dd>
</dl>
</li>
</ul>
<a name="computeStatisticsSNR-float-java.lang.Float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeStatisticsSNR</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.Float&gt;&nbsp;computeStatisticsSNR(float&nbsp;threshold,
                                                                                java.lang.Float[]&nbsp;snrValues)</pre>
<div class="block">Computes the result of the previously done session</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threshold</code> - the level above which the relaxation indexes are considered in a relaxed state (under this threshold, they are considered not relaxed)</dd>
<dd><code>snrValues</code> - the array that contains the relaxation indexes of the session</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the qualities for each provided channels</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if any of the provided arguments are <code>null</code> or invalid</dd>
</dl>
</li>
</ul>
<a name="computeEEGSignalQuality-int-int-java.lang.Float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeEEGSignalQuality</h4>
<pre>public&nbsp;float[]&nbsp;computeEEGSignalQuality(int&nbsp;sampRate,
                                       int&nbsp;packetLength,
                                       java.lang.Float[]&nbsp;channels)</pre>
<div class="block">Computes the quality for each provided channels</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sampRate</code> - the number of value(s) inside each channel</dd>
<dd><code>packetLength</code> - how long is a packet (time x samprate)</dd>
<dd><code>channels</code> - the channel(s) to be computed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the qualities for each provided channels</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if any of the provided arguments are <code>null</code> or invalid</dd>
</dl>
</li>
</ul>
<a name="computeRelaxIndex-int-core.eeg.signalprocessing.MBTCalibrationParameters-core.eeg.signalprocessing.MBTEEGPacket...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeRelaxIndex</h4>
<pre>public&nbsp;float&nbsp;computeRelaxIndex(int&nbsp;sampRate,
                               <a href="../../core/eeg/signalprocessing/MBTCalibrationParameters.html" title="class in core.eeg.signalprocessing">MBTCalibrationParameters</a>&nbsp;calibParams,
                               <a href="../../core/eeg/signalprocessing/MBTEEGPacket.html" title="class in core.eeg.signalprocessing">MBTEEGPacket</a>...&nbsp;packets)</pre>
<div class="block">Computes the relaxation index using the provided <code>MBTEEGPacket</code>.
 For now, we admit there are only 2 channels for each packet</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sampRate</code> - the samprate of a channel (must be consistent)</dd>
<dd><code>calibParams</code> - the calibration paramters previously performed
 the EEG packets containing EEG data, theirs status and qualities.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the relaxation index</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if any of the provided arguments are <code>null</code> or invalid</dd>
</dl>
</li>
</ul>
<a name="reinitRelaxIndexVariables--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reinitRelaxIndexVariables</h4>
<pre>public&nbsp;void&nbsp;reinitRelaxIndexVariables()</pre>
<div class="block">Resets the relaxation index.</div>
</li>
</ul>
<a name="getPendingRawData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingRawData</h4>
<pre>public&nbsp;byte[]&nbsp;getPendingRawData()</pre>
<div class="block">Get the pending EEG raw data buffer</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array containing the pending EEG raw data</dd>
</dl>
</li>
</ul>
<a name="getLostPacketInterpolator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLostPacketInterpolator</h4>
<pre>public&nbsp;byte[]&nbsp;getLostPacketInterpolator()</pre>
<div class="block">Gets the lost EEG raw data packets buffer
 It contains only 0XFF values</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the lost EEG raw data packet buffer</dd>
</dl>
</li>
</ul>
<a name="hasOverflow--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasOverflow</h4>
<pre>public&nbsp;boolean&nbsp;hasOverflow()</pre>
<div class="block">Get the boolean value of hasOverflow
 Return true if the pending data buffer is full of EEG data
 The pending data buffer will be full if the incoming EEG data array size is bigger than the EEG raw data pending buffer size
 Return false if the pending data buffer size is lower than its total capacity</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the boolean value of the overflow state</dd>
</dl>
</li>
</ul>
<a name="setOverflow-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOverflow</h4>
<pre>public&nbsp;void&nbsp;setOverflow(boolean&nbsp;hasOverflow)</pre>
<div class="block">Set a boolean value to hasOverflow
 Set true if the pending data buffer is full of EEG data
 The pending data buffer will be full if the incoming EEG data array size is bigger than the EEG raw data pending buffer size
 Set false if the pending data buffer size is lower than its total capacity</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hasOverflow</code> - the boolean value of the overflow state</dd>
</dl>
</li>
</ul>
<a name="getRawDataPacketSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawDataPacketSize</h4>
<pre>public&nbsp;int&nbsp;getRawDataPacketSize()</pre>
<div class="block">Gets the raw data packet size</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the raw data packet size</dd>
</dl>
</li>
</ul>
<a name="setRawDataPacketSize-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRawDataPacketSize</h4>
<pre>public&nbsp;void&nbsp;setRawDataPacketSize(int&nbsp;rawDataPacketSize)</pre>
<div class="block">Sets a value to the raw data packet size</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rawDataPacketSize</code> - the raw data packet size</dd>
</dl>
</li>
</ul>
<a name="getRawDataBufferSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawDataBufferSize</h4>
<pre>public&nbsp;int&nbsp;getRawDataBufferSize()</pre>
<div class="block">Gets the raw data buffer size</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the raw data buffer size</dd>
</dl>
</li>
</ul>
<a name="getRawDataIndexSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawDataIndexSize</h4>
<pre>public&nbsp;int&nbsp;getRawDataIndexSize()</pre>
<div class="block">Gets the raw data index size</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the raw data index size</dd>
</dl>
</li>
</ul>
<a name="getRawDataBytesPerWholeChannelsSamples--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawDataBytesPerWholeChannelsSamples</h4>
<pre>public&nbsp;int&nbsp;getRawDataBytesPerWholeChannelsSamples()</pre>
<div class="block">Gets the number of bytes of a EEG raw data per whole channels samples</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes of a EEG raw data per whole channels samples</dd>
</dl>
</li>
</ul>
<a name="getNbStatusBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNbStatusBytes</h4>
<pre>public&nbsp;int&nbsp;getNbStatusBytes()</pre>
<div class="block">Gets the number of bytes corresponding to one EEG data</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes corresponding to one EEG data</dd>
</dl>
</li>
</ul>
<a name="getBleNbBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBleNbBytes</h4>
<pre>public static&nbsp;int&nbsp;getBleNbBytes()</pre>
<div class="block">Gets the number of bytes for a EEG raw data in case the Bluetooth protocol used is Bluetooth Low Energy</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes for a EEG raw data in case the Bluetooth protocol used is Bluetooth Low Energy</dd>
</dl>
</li>
</ul>
<a name="getSppNbBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSppNbBytes</h4>
<pre>public static&nbsp;int&nbsp;getSppNbBytes()</pre>
<div class="block">Gets the number of bytes for a EEG raw data in case the Bluetooth protocol used is Bluetooth Serial Port Profile</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes for a EEG raw data in case the Bluetooth protocol used is Bluetooth Low Energy</dd>
</dl>
</li>
</ul>
<a name="getSamplePerPacket--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSamplePerPacket</h4>
<pre>public static&nbsp;int&nbsp;getSamplePerPacket()</pre>
<div class="block">Gets the number of samples per packet</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of samples per packet</dd>
</dl>
</li>
</ul>
<a name="setNbStatusBytes-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNbStatusBytes</h4>
<pre>public&nbsp;void&nbsp;setNbStatusBytes(int&nbsp;nbStatusBytes)</pre>
<div class="block">Sets a value to the number of bytes for status data</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nbStatusBytes</code> - the number of bytes for status data</dd>
</dl>
</li>
</ul>
<a name="setSamplePerPacket-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSamplePerPacket</h4>
<pre>public&nbsp;void&nbsp;setSamplePerPacket(int&nbsp;samplePerPacket)</pre>
<div class="block">Sets a value to the number of samples per EEG data packet</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>samplePerPacket</code> - the number of samples per EEG data packet</dd>
</dl>
</li>
</ul>
<a name="getMbtManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMbtManager</h4>
<pre>public&nbsp;<a href="../../core/MbtManager.html" title="class in core">MbtManager</a>&nbsp;getMbtManager()</pre>
<div class="block">Gets the MbtManager instance.
 MbtManager is responsible for managing all the package managers</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the MbtManager instance.</dd>
</dl>
</li>
</ul>
<a name="getEegResult--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEegResult</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Float&gt;&gt;&nbsp;getEegResult()</pre>
<div class="block">Gets the user-readable EEG data matrix</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the converted EEG data matrix that contains readable values for any user</dd>
</dl>
</li>
</ul>
<a name="deinit--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deinit</h4>
<pre>public&nbsp;void&nbsp;deinit()</pre>
<div class="block">Unregister the MbtEEGManager class from the bus to avoid memory leak</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?core/eeg/MbtEEGManager.html" target="_top">Frames</a></li>
<li><a href="MbtEEGManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
